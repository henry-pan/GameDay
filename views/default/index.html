{{extend 'layout.html'}}

{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>
    var get_games_list_url = "{{=URL('gamedata', 'get_games', user_signature=False)}}";
    var get_game_data_url =  "{{=URL('gamedata', 'get_game_data', user_signature=False)}}";
    var add_post_url = "{{=URL('api', 'add_post', user_signature=True)}}";
    var del_post_url = "{{=URL('api', 'del_post', user_signature=True)}}";
</script>
<link rel='stylesheet' href="{{=URL('static','css/fullcalendar.css')}}"/>
<script src="{{=URL('static', 'js/jquery.min.js')}}"></script>
<script src="{{=URL('static', 'js/moment.min.js')}}"></script>
<script src="{{=URL('static', 'js/fullcalendar.js')}}"></script>


<script>
    $(document).ready(function() {

    // page is now ready, initialize the calendar...

    $('#calendar').fullCalendar({
        // put your options and callbacks here
    eventSources: [{
        events: [
            {
                title: 'World of Spider',
                id: '329',
                start: '2016-11-20'

            },
            {
                title: 'Edgy Game',
                id: '666',
                start: '2016-11-21'
            },
            {

                title: 'Bad Game',
                id: '100000000000000000000000000000',
                start: '2016-11-26'
            }
        ],
        color: 'black',     // an option!
        textColor: 'yellow' // an option!
    }],
    eventClick: function(calEvent, jsEvent, view) {

        alert('Event: ' + calEvent.title);
        alert('Event: ' + calEvent.id);

        // change the border color just for fun
        $(this).css('border-color', 'red');

    }
    })

});
</script>




{{end}}

<div class="main_content">
    <div id='calendar'>
    </div>

    <div id="vue-div" class="display:none">
         <div class="result_table">
            <table>
                <thead>
                <tr>
                    <th></th>
                    <th>Game</th>
                    <th>ID</th>
                    <th>Release date</th>
                    <th>More Info</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="game in game_list">
                    <td></td>
                    <td>${game.name}</td>
                    <td>${game.id}</td>
                    <td>
                    <table>
                <tbody>
                <tr v-for="releaseInfo in game.release">
                    <td></td>
                    <td>Platform: ${releaseInfo.platform}</td>
                    <td>Region: ${releaseInfo.region}</td>
                    <td>Date: ${releaseInfo.date}</td>
                  
                </tr>
                </tbody>
            </table>
                    
                    </td>
                    <!---Note more_info is not yet implemented. It's only going to be used for testing.--->
                    <td> <button class="fa fa-gamepad" id="get_game_data_button"   v-on:click="get_game_data(game.id)" ></button></td>
                </tr>
                </tbody>
            </table>
           </div>
           
  <h1>--------------------------------------------------------------------------------------------------------------</h1>
    
           <div class="game_table">
            <table>
                <tbody>
                <tr>
                    <td>Name</td>
                    <td>${game_data.name}</td>
                </tr>
                <tr>
                    <td>ID</td>
                    <td>${game_data.id}</td>
                </tr>
                <tr>
                    <td>Cover</td>
                    <td>Regular: <img v-bind:src="game_data.coverReg">
                    Thumb: <img v-bind:src="game_data.coverThumb"></td>
                </tr>
                <tr>
                    <td>Storyline</td>
                    <td>${game_data.storyline}</td>
                </tr>
                <tr>
                    <td>Summary</td>
                    <td>${game_data.summary}</td>
                </tr>
                <tr>
                    <td>Publishers</td>
                   <td><tr v-for="pub in game_data.publishers">
                    <td></td>
                    <td> ${pub} </td>
                    </tr></td>
                </tr>
                <tr>
                    <td>Developers</td>
                    <td><tr v-for="dev in game_data.developers">
                    <td></td>
                    <td> ${dev} </td>
                    </tr></td>
                </tr>
                <tr>
                    <td>Themes</td>
                    <td><tr v-for="theme in game_data.themes">
                    <td></td>
                    <td> ${theme} </td>
                    </tr></td>
                </tr>
                <tr>
                    <td>Player mode</td>
                    <td><tr v-for="mode in game_data.gameModes">
                    <td></td>
                    <td> ${mode} </td>
                    </tr></td>
                </tr>
                <tr>
                    <td>Screenshots</td>
                      <td><tr v-for="img in game_data.screenshots">
                    <td></td>
                    <td> <img v-bind:src="img.imgSmallURL"> <img v-bind:src="img.imgMediumURL"> <img v-bind:src="img.imgLargeURL"> </td>
                    </tr></td>
                </tr>
                <tr>
                    <td>Video</td>
                      <td><tr v-for="vid in game_data.videos">
                    <td></td>
                    <td> Name: ${vid.vidName}  <embed v-bind:src="vid.vidURL"> </td>
                    </tr></td>
                </tr>
                <tr>
                    <td>Release&nbsp;</td>
                    <td><tr v-for="releaseInfo in game_data.release">
                    <td></td>
                    <td>Platform: ${releaseInfo.platform}
                    Region: ${releaseInfo.region}
                    Date: ${releaseInfo.date}  </td>
                    </tr></td>
                </tr>
                
           </tbody>
         </table>
           
        </div>
    


</div>

</div>

<script src="{{=URL('static', 'js/default_index.js')}}"></script>
